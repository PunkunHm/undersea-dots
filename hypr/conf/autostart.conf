# ==================
# SYSTEM SERVICES
# ==================
# Polkit Agent (Password popups)
exec-once = uwsm app -s b -- /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# Hyprland Plugin Manager
exec-once = hyprpm reload -n

# Copy-Paste Manager
# exec-once = uwsm app -s b -- wl-paste --watch cliphist store

# System Idle Service
exec-once = uwsm app -s b -- hypridle

# Auto-mount USBs/Drives + System Tray Icon
exec-once = uwsm app -s b -- udiskie --tray

# ==================
# LOOK & FEEL
# ==================
# Force Dark Mode (GTK3/4)
# exec = gsettings set org.gnome.desktop.interface color-scheme "prefer-dark"
# exec = gsettings set org.gnome.desktop.interface gtk-theme "adw-gtk3-dark"
exec-once = nwg-look -a
exec-once = xrdb -merge "$HOME/.Xresources"
$laptop = ~/.config/hypr/wallpapers/laptop_wallpaper.mp4
$monitor = ~/.config/hypr/wallpapers/monitor_wallpaper.mp4

# exec = killall mpvpaper mpvpaper-stop
# exec = mpvpaper -p -o "--input-ipc-server=/tmp/mpvsocket2 profile=wallpaper no-audio" "eDP-1" $laptop & mpvpaper-stop -p /tmp/mpvsocket2 &
# should be replaced by exec-once = uwsm finalized at the top most later (basically to make the command runs after wayland has already detected all monitors and settled)
# exec = sleep 3; mpvpaper -p -o "--input-ipc-server=/tmp/mpvsocket1 profile=wallpaper no-audio" "GIGA-BYTE TECHNOLOGY CO. LTD. M27Q P 23233B000216" $monitor & mpvpaper-stop -p /tmp/mpvsocket1 &
# exec-once = exec mpvpaper -p -o "--input-ipc-server=/tmp/mpvsocket1 no-audio loop hwdec=auto profile=fast no-osd-bar cache=no" "GIGA-BYTE TECHNOLOGY CO. LTD. M27Q P 23233B000216" /home/purins/.config/hypr/wallpapers/16-9_vera.mp4
# exec-once = exec mpvpaper -p -o "--input-ipc-server=/tmp/mpvsocket2 no-audio loop hwdec=auto profile=fast no-osd-bar cache=no" "eDP-1" /home/purins/.config/hypr/wallpapers/16-10_vera.mp4

# ==================
# APPLICATIONS
# ==================
# Desktop Shell (Quickshell)
exec-once = uwsm app -- qs -c noctalia-shell

# Lock Screen (Exit if lock fails to ensure security)
exec-once = hyprlock || uwsm exit

# ------------------------------------------------

# exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
# exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
# exec-once = xembedsniproxy

# exec-once = pypr
# exec-once = hyprpm reload
# exec-once = hyprctl setcursor Bibata-Modern-Ice 24

# Shells Exec Command
# exec-once = dms run

# Communication apps on DP-3
# exec-once = [workspace 1 silent; monitor DP-3] sleep 1 & vesktop
# exec-once = [workspace 1 silent; monitor DP-3] sleep 1 & Telegram

# source = ~/.config/hypr/mpvpaper.conf
